@model web_new_lumiere.Models.vw_product

@{
    ViewBag.Title = "Edit";
}

<h4>Edit</h4>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    
<div class="form-horizontal">
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.HiddenFor(model => model.pid)

    <div class="form-group">
        <label class="control-label col-md-2" for="product_id">Product ID</label>
        <div class="col-md-10">
            @Html.EditorFor(model => model.product_id, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.product_id, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2" for="pid_category">Category</label>
        <div class="col-md-10">
            <select class="form-control" id="pid_category" name="pid_category">
                @foreach (var item in ViewBag.category as SelectListItem[])
                {
                    <option value="@item.Value">@item.Text</option>
                }
            </select>
        </div>
    </div>

    <div class="form-group" hidden>
        @Html.LabelFor(model => model.category_code, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.category_code, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.category_code, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2" for="pid_subcategory">Sub Category</label>
        <div class="col-md-10">
            <select class="form-control" id="pid_subcategory" name="pid_subcategory">
                @foreach (var item in ViewBag.subcategory as SelectListItem[])
                {
                    <option value="@item.Value">@item.Text</option>
                }
            </select>
        </div>
    </div>

    <div class="form-group" hidden>
        @Html.LabelFor(model => model.subcategory_code, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.subcategory_code, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.subcategory_code, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2" for="pid_brand">Brand</label>
        <div class="col-md-10">
            <select class="form-control" id="pid_brand" name="pid_brand">
                @foreach (var item in ViewBag.brand as SelectListItem[])
                {
                    <option value="@item.Value">@item.Text</option>
                }
            </select>
        </div>
    </div>

    <div class="form-group" hidden>
        @Html.LabelFor(model => model.brand_code, htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.EditorFor(model => model.brand_code, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.brand_code, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2" for="product_name">Product Name</label>
        <div class="col-md-10">
            @Html.EditorFor(model => model.product_name, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.product_name, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2" for="product_desc">Description</label>
        <div class="col-md-10">
            @Html.TextAreaFor(model => model.product_desc, new { @class = "form-control", rows = 4 })
            @Html.ValidationMessageFor(model => model.product_desc, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2" for="product_url">URL</label>
        <div class="col-md-10">
            @Html.EditorFor(model => model.product_url, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.product_url, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2" for="product_size">Size</label>
        <div class="col-md-10">
            @Html.EditorFor(model => model.product_size, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.product_size, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <label class="control-label col-md-2" for="product_price">Price</label>
        <div class="col-md-10">
            @Html.EditorFor(model => model.product_price, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.product_price, "", new { @class = "text-danger" })
        </div>
    </div>



    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Save" class="btn btn-default" />
        </div>
    </div>
</div>
}


<div>
    @Html.ActionLink("Back to List", "Index")
</div>


<script>
    $(document).ready(function () {
        var categoryValue = $("#category_code").val(); // Replace with the desired value
        $("#pid_category").val(categoryValue);
        var subcategoryValue = $("#subcategory_code").val(); // Replace with the desired value
        $("#pid_subcategory").val(subcategoryValue);
        var brandValue = $("#brand_code").val(); // Replace with the desired value
        $("#pid_brand").val(brandValue);
    });
</script>